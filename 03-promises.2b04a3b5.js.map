{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAaC,SAASC,cAAc,eACpCC,EAAYF,SAASC,cAAc,cACnCE,EAASH,SAASC,cAAc,gBAChCG,EAAOJ,SAASC,cAAc,SAEhCI,EAAc,EACdC,EAAW,EAEXC,EAAgB,EACpBR,EAAWS,iBAAiB,SAAS,WACnCD,EAAgBE,OAAOV,EAAWW,OAClCJ,EAAWG,OAAOV,EAAWW,M,IAG/B,IAAIC,EAAe,EACnBT,EAAUM,iBAAiB,SAAS,WAClCG,EAAeF,OAAOP,EAAUQ,M,IAGlC,IAAIE,EAAY,EAgBhB,SAASC,EAAcC,EAAUC,GACTC,KAAKC,SAAW,GAIpCC,EAAArB,GAASsB,OAAOC,QAAQ,uBAAwCC,OAAfP,EAAS,QAAYO,OAANN,EAAM,OAGtEG,EAAArB,GAASsB,OAAOG,QAAQ,sBAAqCD,OAAfP,EAAS,QAAYO,OAANN,EAAM,M,CAvBvEZ,EAAOK,iBAAiB,SAAS,WAC/BI,EAAYH,OAAON,EAAOO,M,IA0B5B,IAAIa,EAAa,KAEjBnB,EAAKI,iBAAiB,UAAU,SAACgB,GAC/BA,EAAEC,iBAEFC,YAAW,WACTb,EAAcR,EAAaE,GAC3BgB,EAAaI,aAAY,YA9B7B,SAAiBC,EAAUC,GACzB,GAAIA,EAAW,EAKb,OAJAjB,GAAa,OAGbC,EAFAR,GAAe,EACfC,GAAYsB,GAIdE,cAAcP,E,CAuBRQ,CAAQpB,EAAcC,E,GACrBD,E,GACHJ,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst firstDelay = document.querySelector('.prom-delay');\nconst delayStep = document.querySelector('.prom-step');\nconst amount = document.querySelector('.prom-amount');\nconst form = document.querySelector('.form');\n\nlet positionNum = 1;\nlet delayNum = 0;\n\nlet firstDelayNum = 0;\nfirstDelay.addEventListener('input', () => {\n  firstDelayNum = Number(firstDelay.value);\n  delayNum = Number(firstDelay.value);\n})\n\nlet delayStepNum = 0;\ndelayStep.addEventListener('input', () => {\n  delayStepNum = Number(delayStep.value);\n})\n\nlet amountNum = 0;\namount.addEventListener('input', () => {\n  amountNum = Number(amount.value);\n})\n\nfunction counter(interval, quantity) {\n  if (quantity > 1) {\n    amountNum -= 1;\n    positionNum += 1;\n    delayNum += interval;\n    createPromise(positionNum, delayNum);\n    return\n  }\n  clearInterval(intervalId);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.5;\n\n    if (shouldResolve) {\n    // Fulfill\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    // Reject\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    }\n}\n\nlet intervalId = null;\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n  \n  setTimeout(() => {\n    createPromise(positionNum, firstDelayNum);\n    intervalId = setInterval(() => {\n        counter(delayStepNum, amountNum);\n      }, delayStepNum);\n  } , firstDelayNum);\n})"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$firstDelay","document","querySelector","$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$form","$ce04d3a99e08e73b$var$positionNum","$ce04d3a99e08e73b$var$delayNum","$ce04d3a99e08e73b$var$firstDelayNum","addEventListener","Number","value","$ce04d3a99e08e73b$var$delayStepNum","$ce04d3a99e08e73b$var$amountNum","$ce04d3a99e08e73b$var$createPromise","position","delay","Math","random","$parcel$interopDefault","Notify","success","concat","failure","$ce04d3a99e08e73b$var$intervalId","e","preventDefault","setTimeout","setInterval","interval","quantity","clearInterval","$ce04d3a99e08e73b$var$counter"],"version":3,"file":"03-promises.2b04a3b5.js.map"}