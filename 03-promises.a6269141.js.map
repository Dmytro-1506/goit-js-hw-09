{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAaC,SAASC,cAAc,eACpCC,EAAYF,SAASC,cAAc,cACnCE,EAASH,SAASC,cAAc,gBAChCG,EAAOJ,SAASC,cAAc,SAEpC,IAAII,EAAc,EACdC,EAAW,EAEXC,EAAgB,EACpBR,EAAWS,iBAAiB,SAAS,KACnCD,EAAgBE,OAAOV,EAAWW,OAClCJ,EAAWG,OAAOV,EAAWW,MAAM,IAGrC,IAAIC,EAAe,EACnBT,EAAUM,iBAAiB,SAAS,KAClCG,EAAeF,OAAOP,EAAUQ,MAAM,IAGxC,IAAIE,EAAY,EAgBhB,SAASC,EAAcC,EAAUC,GACTC,KAAKC,SAAW,GAIpCC,EAAArB,GAASsB,OAAOC,QAAQ,uBAAqBN,QAAiBC,OAG9DG,EAAArB,GAASsB,OAAOE,QAAQ,sBAAoBP,QAAeC,M,CAvB/DZ,EAAOK,iBAAiB,SAAS,KAC/BI,EAAYH,OAAON,EAAOO,MAAM,IA0BlC,IAAIY,EAAa,KAEjBlB,EAAKI,iBAAiB,UAAWe,IAC/BA,EAAEC,iBAEFC,YAAW,KACTZ,EAAcR,EAAaE,GAC3Be,EAAaI,aAAY,MA9B7B,SAAiBC,EAAUC,GACzB,GAAIA,EAAW,EAKb,OAJAhB,GAAa,EACbP,GAAe,EACfC,GAAYqB,OACZd,EAAcR,EAAaC,GAG7BuB,cAAcP,E,CAuBRQ,CAAQnB,EAAcC,EAAU,GAC/BD,EAAa,GAChBJ,EAAc","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst firstDelay = document.querySelector('.prom-delay');\nconst delayStep = document.querySelector('.prom-step');\nconst amount = document.querySelector('.prom-amount');\nconst form = document.querySelector('.form');\n\nlet positionNum = 1;\nlet delayNum = 0;\n\nlet firstDelayNum = 0;\nfirstDelay.addEventListener('input', () => {\n  firstDelayNum = Number(firstDelay.value);\n  delayNum = Number(firstDelay.value);\n})\n\nlet delayStepNum = 0;\ndelayStep.addEventListener('input', () => {\n  delayStepNum = Number(delayStep.value);\n})\n\nlet amountNum = 0;\namount.addEventListener('input', () => {\n  amountNum = Number(amount.value);\n})\n\nfunction counter(interval, quantity) {\n  if (quantity > 1) {\n    amountNum -= 1;\n    positionNum += 1;\n    delayNum += interval;\n    createPromise(positionNum, delayNum);\n    return\n  }\n  clearInterval(intervalId);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.5;\n\n    if (shouldResolve) {\n    // Fulfill\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    // Reject\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    }\n}\n\nlet intervalId = null;\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n  \n  setTimeout(() => {\n    createPromise(positionNum, firstDelayNum);\n    intervalId = setInterval(() => {\n        counter(delayStepNum, amountNum);\n      }, delayStepNum);\n  } , firstDelayNum);\n})"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$firstDelay","document","querySelector","$47d4ff9957288465$var$delayStep","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$form","$47d4ff9957288465$var$positionNum","$47d4ff9957288465$var$delayNum","$47d4ff9957288465$var$firstDelayNum","addEventListener","Number","value","$47d4ff9957288465$var$delayStepNum","$47d4ff9957288465$var$amountNum","$47d4ff9957288465$var$createPromise","position","delay","Math","random","$parcel$interopDefault","Notify","success","failure","$47d4ff9957288465$var$intervalId","e","preventDefault","setTimeout","setInterval","interval","quantity","clearInterval","$47d4ff9957288465$var$counter"],"version":3,"file":"03-promises.a6269141.js.map"}